---
id: 176
title: 'Измерение скорости записи файлов на USB флеш-накопитель(флешку) в Linux'
date: '2012-12-26T16:11:25+02:00'
author: 'Андрей Гуцу'
layout: post
guid: 'http://blog.lordofgale.org/?p=176'
permalink: /%d0%b8%d0%b7%d0%bc%d0%b5%d1%80%d0%b5%d0%bd%d0%b8%d0%b5-%d1%81%d0%ba%d0%be%d1%80%d0%be%d1%81%d1%82%d0%b8-%d0%b7%d0%b0%d0%bf%d0%b8%d1%81%d0%b8-%d1%84%d0%b0%d0%b9%d0%bb%d0%be%d0%b2-%d0%bd%d0%b0-usb/
dsq_thread_id:
    - '3859315086'
image: /wp-content/uploads/2012/12/Screenshot-from-2012-12-25-152600.png
categories:
    - linux
---

Столкнулся я на днях с задачей: как измерить скорость работы флеш-брелка(моей любимой флешки ADATA S102/32GB Pro) в Linux? Специальных утилит для измерения скорости в Linux не обнаружил(может плохо искал), и решил я задействовать для этих целей тяжёлую артиллерию в лице утилиты dd.

Итак, измерение скорости записи на флешку состоит из двух этапов:
cd < путь до каталога, в который смонтирована наша флешка
dd if=/dev/zero of=tempfile bs=5M count=1024 conv=fdatasync,notrunc

Обратите внимание на bs=5M и count=1024. Параметр bs=5M говорит dd брать данные из файла-источника блоками по 5MiB(мебибайт), а параметр count=1024 указывает, сколько раз нужно повторить данную процедуру. То есть в результате на флешку записывается файл с данными из /dev/zero размером 5MiB x 1024 = 5GiB(гибибайт). Если у вас флешка меньших размеров, стоит уменьшить или размер копируемых блоков данных, или их количество. 

Результат измерения скорости записи(помним, что NTFS в Windows довольно неповоротливая ФС(по сравнению с FAT32), в Linux ситуация только усугубляется, и скорость работы NTFS вообще становится очень невысокой, кроме того на скорость работы флешки так-же повлияло отсутствие USB 3.0):

<a href="https://glowingsword.ru/?attachment_id=177" rel="attachment wp-att-177"><img src="https://glowingsword.ru/wp-content/uploads/2012/12/Screenshot-from-2012-12-25-152600-300x187.png" alt="Screenshot from 2012-12-25 15:26:00" width="300" height="187" class="aligncenter size-medium wp-image-177" />